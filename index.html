<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300">
  <link rel="stylesheet" href="css/style.css">
  <title>画像ライブラリ</title>
</head>

<body>
  <header>
    <h1>My photos</h1>
  </header>


  <div class="container">
    <div id="img_unit">
    </div>
  </div>

  <script src="js/jquery.min.js"></script>
  <script>
    $.getJSON("https://h2o-space.com/htmlbook/images.php",function(data){
      for(var i=0;i<data.length;i++){
        var one_data = data[i];

        var img = document.createElement("img")
        img.setAttribute("src",one_data.path);

          caption = document.createElement("div");
          caption.className = "inner";
          caption.innerHTML = "<p>" + one_data.caption + "<span>" + one_data.name + "</span>" + "</p>";

          div = document.createElement("div");
          div.className = "photo";
          div.appendChild(img);
          div.appendChild(caption);

          document.getElementById("img_unit").appendChild(div);
      }
      }
    );
    $('#img_unit').html("ここに画像リストが表示されます．").css("margin-top","100px");
    // メソッドチェーン
  </script>
<!--
  <script>

    var ajax = new XMLHttpRequest();
    ajax.open("GET","https://h2o-space.com/htmlbook/images.php");
    ajax.responseType = "json";
    ajax.send(null);

    ajax.onreadystatechange = function(){
      if (ajax.readyState == XMLHttpRequest.DONE && ajax.status == 200){
        for (var i = 0; i<this.response.length; i++){
          var data = this.response[i];

          var img = document.createElement("img")
          img.setAttribute("src",data.path);

            caption = document.createElement("div");
            caption.className = "inner";
            caption.innerHTML = "<p>" + data.caption + "<span>" + data.name + "</span>" + "</p>";

            div = document.createElement("div");
            div.className = "photo";
            div.appendChild(img);
            div.appendChild(caption);

            document.getElementById("img_unit").appendChild(div);


        }
      }
    }

  </script> -->
</body>
</html>
